<div class="max-w-2xl mx-auto bg-white shadow-lg rounded-2xl p-8 border border-[#4BA6A5]">
  <h2 class="text-3xl font-bold text-[#0B6B3A] mb-6 text-center">
    {{ modoEdicion ? 'Editar Parque' : 'Agregar Nuevo Parque' }}
  </h2>

  <form (ngSubmit)="guardarParque()" #parqueForm="ngForm" class="space-y-5">
    <!-- Nombre -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">Nombre del parque</label>
      <input
        type="text"
        name="nombre"
        [(ngModel)]="parque.park_name"
        placeholder="Ej. Parque Central"
        class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-[#4CA773] focus:border-[#4CA773]"
        required
        maxlength="100"
      />
      <div *ngIf="backendErrors['park_name']" class="text-red-500 text-sm mt-1">
        {{ backendErrors['park_name'][0] }}
      </div>
    </div>

    <!-- Abreviatura -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">Abreviatura</label>
      <input
        type="text"
        name="abreviatura"
        [(ngModel)]="parque.park_abbreviation"
        placeholder="Ej. PC"
        class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-[#4CA773] focus:border-[#4CA773]"
        required
        maxlength="10"
      />
      <div *ngIf="backendErrors['park_abbreviation']" class="text-red-500 text-sm mt-1">
        {{ backendErrors['park_abbreviation'][0] }}
      </div>
    </div>

    <!-- Imagen -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">URL de la imagen</label>
      <input
        type="text"
        name="imagen"
        [(ngModel)]="parque.park_img_uri"
        placeholder="https://... jpeg, jpg o png"
        class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-[#4CA773] focus:border-[#4CA773]"
        required
      />
      <div *ngIf="backendErrors['park_img_url']" class="text-red-500 text-sm mt-1">
        {{ backendErrors['park_img_url'][0] }}
      </div>
    </div>

    <!-- Dirección -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">Dirección</label>
      <input
        type="text"
        name="direccion"
        [(ngModel)]="parque.park_address"
        placeholder="Calle 123, Colonia"
        class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-[#4CA773] focus:border-[#4CA773]"
        required
        maxlength="150"
      />
      <div *ngIf="backendErrors['park_address']" class="text-red-500 text-sm mt-1">
        {{ backendErrors['park_address'][0] }}
      </div>
    </div>

    <!-- Ciudad / Estado -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">Ciudad</label>
        <select
          name="ciudad"
          [(ngModel)]="parque.park_city"
          class="w-full p-3 border border-[#4CA773] rounded-lg shadow-sm focus:ring-2 focus:ring-[#4CA773] focus:border-[#4CA773] transition-all duration-300 ease-in-out bg-white"
          required
          onfocus="this.classList.add('opened')"
          onblur="this.classList.remove('opened')"
        >
          <option
            value=""
            class="bg-white text-gray-500 py-2 px-3 border border-[#4CA773] rounded-md transition-all duration-300 ease-in-out"
          >
            Selecciona una ciudad
          </option>
          <option
            value="Zapopan"
            class="bg-white text-[#0B6B3A] py-2 px-3 border border-[#4CA773] rounded-md hover:bg-[#F4FDFB] transition-all duration-300 ease-in-out"
          >
            Zapopan
          </option>
          <option
            value="Guadalajara"
            class="bg-white text-[#0B6B3A] py-2 px-3 border border-[#4CA773] rounded-md hover:bg-[#F4FDFB] transition-all duration-300 ease-in-out"
          >
            Guadalajara
          </option>
          <option
            value="San Pedro Tlaquepaque"
            class="bg-white text-[#0B6B3A] py-2 px-3 border border-[#4CA773] rounded-md hover:bg-[#F4FDFB] transition-all duration-300 ease-in-out"
          >
            San Pedro Tlaquepaque
          </option>
          <option
            value="Tonalá"
            class="bg-white text-[#0B6B3A] py-2 px-3 border border-[#4CA773] rounded-md hover:bg-[#F4FDFB] transition-all duration-300 ease-in-out"
          >
            Tonalá
          </option>
        </select>
        <div *ngIf="backendErrors['park_city']" class="text-red-500 text-sm mt-1">
          {{ backendErrors['park_city'][0] }}
        </div>
      </div>
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">Estado</label>
        <input
          type="text"
          name="estado"
          [(ngModel)]="parque.park_state"
          placeholder="Ej. Jalisco"
          class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-[#4CA773] focus:border-[#4CA773]"
          required
          maxlength="100"
        />
        <div *ngIf="backendErrors['park_state']" class="text-red-500 text-sm mt-1">
          {{ backendErrors['park_state'][0] }}
        </div>
      </div>
    </div>

    <!-- CP / Lat / Long -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">Código Postal</label>
        <input
          type="text"
          name="cp"
          [(ngModel)]="parque.park_zip_code"
          placeholder="Ej. 44100"
          class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-[#4CA773] focus:border-[#4CA773]"
          required
        />
        <div *ngIf="backendErrors['park_zip_code']" class="text-red-500 text-sm mt-1">
          {{ backendErrors['park_zip_code'][0] }}
        </div>
      </div>
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">Latitud</label>
        <input
          type="text"
          name="latitud"
          [(ngModel)]="parque.park_latitude"
          placeholder="Ej. 20.6597"
          class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-[#4CA773] focus:border-[#4CA773]"
          required
        />
        <div *ngIf="backendErrors['park_latitude']" class="text-red-500 text-sm mt-1">
          {{ backendErrors['park_latitude'][0] }}
        </div>
      </div>
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1">Longitud</label>
        <input
          type="text"
          name="longitud"
          [(ngModel)]="parque.park_longitude"
          placeholder="Ej. -103.3496"
          class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-[#4CA773] focus:border-[#4CA773]"
          required
        />
        <div *ngIf="backendErrors['park_longitude']" class="text-red-500 text-sm mt-1">
          {{ backendErrors['park_longitude'][0] }}
        </div>
      </div>
    </div>

    <!-- Botones -->
    <div class="flex justify-center gap-4 mt-6">
        <button
          type="button"
          class="bg-[#4BA6A5] hover:bg-[#368a89] text-white px-7 py-3 rounded-xl font-semibold shadow-md hover:shadow-lg transition-all duration-200 ease-in-out"
          (click)="regresar()"
        >
          Regresar
        </button>
        <button
          type="submit"
          class="bg-[#4CA773] hover:bg-[#3b865c] text-white px-7 py-3 rounded-xl font-semibold shadow-md hover:shadow-lg transition-all duration-200 ease-in-out"
        >
          Guardar
        </button>
    </div>
  </form>
</div>
